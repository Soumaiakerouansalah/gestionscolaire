<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>DÃ©tails FiliÃ¨re</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">

   
    <div class="mb-4">
        <h2 class="fw-bold text-primary">
            ğŸ“ FiliÃ¨re : <span th:text="${filiere.nom}"></span>
        </h2>
        <hr>
    </div>

   
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <p>
                <strong>Code :</strong>
                <span class="badge bg-dark" th:text="${filiere.code}"></span>
            </p>
            <p class="mb-0">
                <strong>Nombre dâ€™Ã©lÃ¨ves :</strong>
                <span th:text="${#lists.size(filiere.eleves)}"></span>
            </p>
        </div>
    </div>


    <div class="card shadow-sm mb-4">
        <div class="card-header bg-secondary text-white">
            ğŸ‘¨â€ğŸ“ Ã‰lÃ¨ves inscrits
        </div>

        <ul class="list-group list-group-flush">

            <li class="list-group-item d-flex justify-content-between align-items-center"
                th:each="e : ${filiere.eleves}"
                th:if="${e != null}">

                <span>
                    <span th:text="${e.nom}"></span>
                    <span th:text="${e.prenom}" class="fw-bold"></span>
                </span>

                <a th:href="@{/eleves/delete/{id}(id=${e.id})}"
                   class="btn btn-sm btn-outline-danger"
                   onclick="return confirm('Supprimer cet Ã©lÃ¨ve ?');">
                    ğŸ—‘ï¸
                </a>
            </li>

            <li class="list-group-item text-muted"
                th:if="${#lists.isEmpty(filiere.eleves)}">
                Aucun Ã©lÃ¨ve inscrit
            </li>
        </ul>
    </div>

    <!-- Cours -->
    <div class="card shadow-sm mb-4">
        <div class="card-header bg-dark text-white">
            ğŸ“š Cours de la filiÃ¨re
        </div>

        <ul class="list-group list-group-flush">

            <li class="list-group-item d-flex justify-content-between align-items-center"
                th:each="c : ${filiere.cours}"
                th:if="${c != null}">

                <span>
                    <span class="badge bg-info text-dark me-2"
                          th:text="${c.code}"></span>
                    <span th:text="${c.intitule}"></span>
                </span>

                <!-- âœ… ICI correction : c.id -->
                <a th:href="@{/cours/delete/{id}(id=${c.id})}"
                   class="btn btn-sm btn-outline-danger"
                   onclick="return confirm('Supprimer ce cours ?');">
                    ğŸ—‘
                </a>

            </li>

            <li class="list-group-item text-muted"
                th:if="${#lists.isEmpty(filiere.cours)}">
                Aucun cours dÃ©fini
            </li>
        </ul>
    </div>


    <div class="d-flex justify-content-between">
        <a href="/filieres" class="btn btn-outline-secondary">
            â¬… Retour
        </a>
        <a href="/eleves/add" class="btn btn-success">
            â• Ajouter Ã‰lÃ¨ve
        </a>
    </div>

</div>

</body>
</html>
